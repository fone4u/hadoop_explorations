http://magnusljadas.wordpress.com/2012/01/29/search-for-snow-with-hadoop-hive/



1. Download temperature and precipitation data sets by executing the download script:

$ ./download_data_from_SMHI.sh

... or alternatively use the temperature.txt and precipitation.txt found in the data folder.


2. Start Hive

$ hive

3. Create temperature and precipitation tables

CREATE TABLE temperature (
DATUM STRING,
TT1 DOUBLE,
TT2 DOUBLE,
TT3 DOUBLE,
TTN DOUBLE,
TTTM DOUBLE,
TTX DOUBLE)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ','
STORED AS TEXTFILE;

CREATE TABLE precipitation (
DATUM STRING,
PES DOUBLE,
QRR DOUBLE,
PRR DOUBLE,
PRRC1 DOUBLE,
PRRC2 DOUBLE,
PRRC3 DOUBLE,
PSSS DOUBLE,
PWS DOUBLE)
ROW FORMAT DELIMITED
FIELDS TERMINATED BY ','
STORED AS TEXTFILE;


4. Load temperature and precipitation data into tables

LOAD DATA LOCAL INPATH 'temperature.txt'
OVERWRITE INTO TABLE temperature;

LOAD DATA LOCAL INPATH 'precipitation.txt'
OVERWRITE INTO TABLE precipitation;

